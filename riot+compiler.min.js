/* Riot v3.9.1, @license MIT */
var e,t;e=this,t=function(){"use strict";function s(e,t){return(t||document).querySelector(e)}var t,r,v=[],R={},a="yield",x="__global_mixin",w="riot-",u=["ref","data-ref"],p="data-is",f="if",d="each",i="no-reorder",_="show",A="hide",o="key",y="__riot-events__",l="string",M="object",n="undefined",c="function",h="http://www.w3.org/1999/xlink",m="http://www.w3.org/2000/svg",g=/^xlink:(\w+)/,b=typeof window===n?void 0:window,O=/^on/,N=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,E={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},C=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,j=0|(b&&b.document||{}).documentMode;function S(e){return"svg"===e?document.createElementNS(m,e):document.createElement(e)}function k(e,t,r){var n=g.exec(t);n&&n[1]?e.setAttributeNS(h,n[1],r):e.setAttribute(t,r)}var e,T,L={},I=[],P=!1;b&&(e=S("style"),T=s("style[type=riot]"),k(e,"type","text/css"),T?(T.id&&(e.id=T.id),T.parentNode.replaceChild(e,T)):document.head.appendChild(e),r=(t=e).styleSheet);var $={styleNode:t,add:function(e,t){t?L[t]=e:I.push(e),P=!0},inject:function(){if(b&&P){P=!1;var e=Object.keys(L).map(function(e){return L[e]}).concat(I).join("\n");r?r.cssText=e:t.innerHTML=e}}},F=function(){var u="[{(,;:?=|&!^~>%*/",l=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],c=l.reduce(function(e,t){return e+t.slice(-1)},""),p=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,f=/[$\w]/;function d(e,t){for(;0<=--t&&/\s/.test(e[t]););return t}return function(e,t){var r=/.*/g,n=r.lastIndex=t++,i=r.exec(e)[0].match(p);if(i){var o=n+i[0].length,s=e[n=d(e,n)];if(n<0||~u.indexOf(s))return o;if("."===s)"."===e[n-1]&&(t=o);else if("+"===s||"-"===s)(e[--n]!==s||(n=d(e,n))<0||!f.test(e[n]))&&(t=o);else if(~c.indexOf(s)){for(var a=n+1;0<=--n&&f.test(e[n]););~l.indexOf(e.slice(n+1,a))&&(t=o)}}return t}}(),z=function(e){var t,r,n="g",i=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,o=i.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,s=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),a=/(?=[[\]()*+?.^$|])/g,u=i.source+"|"+/(\/)(?![*\/])/.source,x={"(":RegExp("([()])|"+u,n),"[":RegExp("([[\\]])|"+u,n),"{":RegExp("([{}])|"+u,n)},l="{ }",c=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+u,n),l,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],p=void 0,y=[];function f(e){return e}function d(e,t){return t||(t=y),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?n:"")}function h(e){if(e===l)return c;var t=e.split(" ");if(2!==t.length||s.test(e))throw new Error('Unsupported brackets "'+e+'"');return(t=t.concat(e.replace(a,"\\").split(" ")))[4]=d(1<t[1].length?/{[\S\s]*?}/:c[4],t),t[5]=d(3<e.length?/\\({|})/g:c[5],t),t[6]=d(c[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+u,n),t[8]=e,t}function m(e){return e instanceof RegExp?t(e):y[e]}function g(e){(e||(e=l))!==y[8]&&(y=h(e),t=e===l?f:d,y[9]=t(c[9])),p=e}return m.split=function(n,i,t){t||(t=y);var e,r,o,s,a,u,l=[],c=t[6],p=[],f="";for(r=o=c.lastIndex=0;e=c.exec(n);){if(u=c.lastIndex,s=e.index,r){if(e[2]){var d=e[2],h=x[d],m=1;for(h.lastIndex=u;e=h.exec(n);)if(e[1]){if(e[1]===d)++m;else if(!--m)break}else h.lastIndex=v(e.index,h.lastIndex,e[2]);c.lastIndex=m?n.length:h.lastIndex;continue}if(!e[3]){c.lastIndex=v(s,u,e[4]);continue}}e[1]||(g(n.slice(o,s)),o=c.lastIndex,(c=t[6+(r^=1)]).lastIndex=o)}return n&&o<n.length&&g(n.slice(o)),l.qblocks=p,l;function g(e){f&&(e=f+e,f=""),i||r?l.push(e&&e.replace(t[5],"$1")):l.push(e)}function v(e,t,r){return r&&(t=F(n,e)),i&&e+2<t&&(a="⁗"+p.length+"~",p.push(n.slice(e,t)),f+=n.slice(o,e)+a,o=t),t}},m.hasExpr=function(e){return y[4].test(e)},m.loopKeys=function(e){var t=e.match(y[9]);return t?{key:t[1],pos:t[2],val:y[0]+t[3].trim()+y[1]}:{val:e.trim()}},m.array=function(e){return e?h(e):y},Object.defineProperty(m,"settings",{set:function(e){var t;t=(e=e||{}).brackets,Object.defineProperty(e,"brackets",{set:g,get:function(){return p},enumerable:!0}),r=e,g(t)},get:function(){return r}}),m.settings="undefined"!=typeof riot&&riot.settings||{},m.set=g,m.skipRegex=F,m.R_STRINGS=i,m.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,m.S_QBLOCKS=o,m.S_QBLOCK2=u,m}(),H=function(){var r={};function n(e,t){return e?(r[e]||(r[e]=function(e){var t=function(e){var t,r=z.split(e.replace(a,'"'),1),n=r.qblocks;if(2<r.length||r[0]){var i,o,s=[];for(i=o=0;i<r.length;++i)(t=r[i])&&(t=1&i?l(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(s[o++]=t);t=o<2?s[0]:"["+s.join(",")+'].join("")'}else t=l(r[1],0,n);n.length&&(t=t.replace(u,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));return t}(e);"try{return "!==t.slice(0,11)&&(t="return "+t);return new Function("E",t+";")}(e))).call(t,function(e,t){e.riotData={tagName:t&&t.__&&t.__.tagName,_riot_id:t&&t._riot_id},n.errorHandler?n.errorHandler(e):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(e.message),console.log("<%s> %s",e.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:t,tmpl:e})):e}n.hasExpr=z.hasExpr,n.loopKeys=z.loopKeys,n.clearCache=function(){r={}},n.errorHandler=null;var a=/\u2057/g,u=/\u2057(\d+)~/g;var c=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,p={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function l(o,e,t){if(o=o.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r,n=[],i=0;o&&(r=o.match(c))&&!r.index;){var s,a,u=/,|([[{(])|$/g;for(o=RegExp.rightContext,s=r[2]?t[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];a=(r=u.exec(o))[1];)l(a,u);a=o.slice(0,r.index),o=RegExp.rightContext,n[i++]=d(a,1,s)}o=i?1<i?"["+n.join(",")+'].join(" ").trim()':n[0]:d(o,e)}return o;function l(e,t){var r,n=1,i=p[e];for(i.lastIndex=t.lastIndex;r=i.exec(o);)if(r[0]===e)++n;else if(!--n)break;t.lastIndex=n?o.length:i.lastIndex}}var s='"in this?this:'+("object"!=typeof window?"global":"window")+").",i=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,f=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function d(e,t,r){var o;return e=e.replace(i,function(e,t,r,n,i){return r&&(n=o?0:n+e.length,"this"!==r&&"global"!==r&&"window"!==r?(e=t+'("'+r+s+r,n&&(o="."===(i=i[n])||"("===i||"["===i)):n&&(o=!f.test(i.slice(n)))),e}),o&&(e="try{return "+e+"}catch(e){E(e,this)}"),r?e=(o?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+r+'":""':t&&(e="function(v){"+(o?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}return n.version=z.version="v3.0.8",n}(),U=function(a){a=a||{};var u={},l=Array.prototype.slice;return Object.defineProperties(a,{on:{value:function(e,t){return"function"==typeof t&&(u[e]=u[e]||[]).push(t),a},enumerable:!1,writable:!1,configurable:!1},off:{value:function(e,t){if("*"!=e||t)if(t)for(var r,n=u[e],i=0;r=n&&n[i];++i)r==t&&n.splice(i--,1);else delete u[e];else u={};return a},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,r){return a.on(t,function e(){a.off(t,e),r.apply(a,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(e){var t,r,n,i=arguments,o=arguments.length-1,s=new Array(o);for(n=0;n<o;n++)s[n]=i[n+1];for(t=l.call(u[e]||[],0),n=0;r=t[n];++n)r.apply(a,s);return u["*"]&&"*"!=e&&a.trigger.apply(a,["*",e].concat(s)),a},enumerable:!1,writable:!1,configurable:!1}}),a};function V(e,t){return Object.getOwnPropertyDescriptor(e,t)}function B(e){return typeof e===n}function q(e,t){var r=V(e,t);return B(e[t])||r&&r.writable}function D(e){for(var t,r=1,n=arguments,i=n.length;r<i;r++)if(t=n[r])for(var o in t)q(e,o)&&(e[o]=t[o]);return e}function Z(e){return Object.create(e)}var G=D(Z(z.settings),{skipAnonymousTags:!0,autoUpdate:!0});function K(e,t){return[].slice.call((t||document).querySelectorAll(e))}function W(){return document.createTextNode("")}function J(e,t){e.style.display=t?"":"none",e.hidden=!t}function Q(e,t){return e.getAttribute(t)}function X(e,t){e.removeAttribute(t)}function Y(e,t,r){if(r){var n=e.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+m+'">'+t+"</svg>","application/xml").documentElement,!0);e.appendChild(n)}else e.innerHTML=t}function ee(e,t){if(e)for(var r;r=N.exec(e);)t(r[1].toLowerCase(),r[2]||r[3]||r[4])}function te(){return document.createDocumentFragment()}function re(e,t,r){e.insertBefore(t,r.parentNode&&r)}function ne(r){return Object.keys(r).reduce(function(e,t){return e+" "+t+": "+r[t]+";"},"")}function ie(e,t,r){if(e){var n,i=t(e,r);if(!1===i)return;for(e=e.firstChild;e;)n=e.nextSibling,ie(e,t,i),e=n}}var oe=Object.freeze({$$:K,$:s,createDOMPlaceholder:W,mkEl:S,setAttr:k,toggleVisibility:J,getAttr:Q,remAttr:X,setInnerHTML:Y,walkAttrs:ee,createFrag:te,safeInsert:re,styleObjectToString:ne,walkNodes:ie});function se(e){return B(e)||null===e}function ae(e){return se(e)||""===e}function ue(e){return typeof e===c}function le(e){return e&&typeof e===M}function ce(e){var t=e.ownerSVGElement;return!!t||null===t}function pe(e){return Array.isArray(e)||e instanceof Array}function fe(e){return C.test(e)}function de(e){return typeof e===l}var he=Object.freeze({isBlank:ae,isFunction:ue,isObject:le,isSvg:ce,isWritable:q,isArray:pe,isBoolAttr:fe,isNil:se,isString:de,isUndefined:B});function me(e,t){return-1!==e.indexOf(t)}function ge(e,t){for(var r=e?e.length:0,n=0;n<r;n++)t(e[n],n);return e}function ve(e,t){return e.slice(0,t.length)===t}var xe,ye=(xe=-1,function(){return++xe});function be(e,t,r,n){return Object.defineProperty(e,t,D({value:r,enumerable:!1,writable:!1,configurable:!0},n)),e}function we(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function _e(e){console&&console.warn&&console.warn(e)}var Ae=Object.freeze({contains:me,each:ge,getPropDescriptor:V,startsWith:ve,uid:ye,defineProperty:be,objectCreate:Z,extend:D,toCamel:we,warn:_e});function Oe(e,t,r,n,i){var o=e[t],s=pe(o),a=!B(i);if(!o||o!==r)if(!o&&n)e[t]=[r];else if(o)if(s){var u=o.indexOf(r);if(u===i)return;-1!==u&&o.splice(u,1),a?o.splice(i,0,r):o.push(r)}else e[t]=[o,r];else e[t]=r}function Ne(e){return e.tagName&&R[Q(e,p)||Q(e,p)||e.tagName.toLowerCase()]}function Ee(e,t){var r=Ne(e),n=!t&&Q(e,p);return n&&!H.hasExpr(n)?n:r?r.name:e.tagName.toLowerCase()}function Ce(){return this.parent?D(Z(this),this.parent):this}var je=/<yield\b/i,Se=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,ke=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,Te=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Le={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},Ie=j&&j<10?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Re="div",Me="svg";function Pe(e,t,r){var n=e&&e.match(/^\s*<([-\w]+)/),i=n&&n[1].toLowerCase(),o=S(r?Me:Re);return e=function(e,r){if(!je.test(e))return e;var n={};return r=r&&r.replace(ke,function(e,t,r){return n[t]=n[t]||r,""}).trim(),e.replace(Te,function(e,t,r){return n[t]||r||""}).replace(Se,function(e,t){return r||t||""})}(e,t),Ie.test(i)?o=function(e,t,r){var n="o"===r[0],i=n?"select>":"table>";if(e.innerHTML="<"+i+t.trim()+"</"+i,i=e.firstChild,n)i.selectedIndex=-1;else{var o=Le[r];o&&1===i.childElementCount&&(i=s(o,i))}return i}(o,e,i):Y(o,e,r),o}function $e(e){for(var t=e;t.__.isAnonymous&&t.parent;)t=t.parent;return t}function Fe(e,t,r,n){var i,o=function(e,t,r){var n=this.__.parent,i=this.__.item;if(!i)for(;n&&!i;)i=n.__.item,n=n.__.parent;if(q(r,"currentTarget")&&(r.currentTarget=e),q(r,"target")&&(r.target=r.srcElement),q(r,"which")&&(r.which=r.charCode||r.keyCode),r.item=i,t.call(this,r),G.autoUpdate&&!r.preventUpdate){var o=$e(this);o.isMounted&&o.update()}}.bind(n,r,t);r[e]=null,i=e.replace(O,""),me(n.__.listeners,r)||n.__.listeners.push(r),r[y]||(r[y]={}),r[y][e]&&r.removeEventListener(i,r[y][e]),r[y][e]=o,r.addEventListener(i,o,!1)}function ze(e,t,r,n){var i=vt(e,t,r),o=t.tagName||Ee(t.root,!0),s=$e(n);return be(i,"parent",s),i.__.parent=n,Oe(s.tags,o,i),s!==n&&Oe(n.tags,o,i),i}function He(e,t,r,n){if(pe(e[t])){var i=e[t].indexOf(r);-1!==i&&e[t].splice(i,1),e[t].length?1!==e[t].length||n||(e[t]=e[t][0]):delete e[t]}else e[t]===r&&delete e[t]}function Ue(e,t){var r,n,i=W(),o=W(),s=te();for(this.root.insertBefore(i,this.root.firstChild),this.root.appendChild(o),this.__.head=n=i,this.__.tail=o;n;)r=n.nextSibling,s.appendChild(n),this.__.virts.push(n),n=r;t?e.insertBefore(s,t.__.head):e.appendChild(s)}function Ve(e,t){var r=te();Ue.call(e,r),t.parentNode.replaceChild(r,t)}function Be(e){if(!this.root||!Q(this.root,"virtualized")){var t,r,n=e.dom,i=(t=e.attr)?(t=t.replace(w,""),E[t]&&(t=E[t]),t):null,o=me([_,A],i),s=e.root&&"VIRTUAL"===e.root.tagName,a=this.__.isAnonymous,u=n&&(e.parent||n.parentNode),l="style"===i,c="class"===i;if(e._riot_id)e.__.wasCreated?e.update():(e.mount(),s&&Ve(e,e.root));else{if(e.update)return e.update();var p,f,d,h,m,g,v,x=o&&!a?Ce.call(this):this,y=!ae(r=H(e.expr,x)),b=le(r);if(b&&(c?r=H(JSON.stringify(r),this):l&&(r=ne(r))),!e.attr||e.wasParsedOnce&&y&&!1!==r||X(n,Q(n,e.attr)?e.attr:i),e.bool&&(r=!!r&&i),e.isRtag)return f=this,d=r,m=(p=e).tag||p.dom._tag,g=(m?m.__:{}).head,v="VIRTUAL"===p.dom.tagName,void(m&&p.tagName===d?m.update():(m&&(v&&(h=W(),g.parentNode.insertBefore(h,g)),m.unmount(!0)),de(d)&&(p.impl=R[d],p.impl&&(p.tag=m=ze(p.impl,{root:p.dom,parent:f,tagName:d},p.dom.innerHTML,f),ge(p.attrs,function(e){return k(m.root,e.name,e.value)}),p.tagName=d,m.mount(),v&&Ve(m,h||m.root),f.__.onUnmount=function(){var e=m.opts.dataIs;He(m.parent.tags,e,m),He(m.__.parent.tags,e,m),m.unmount()}))));if((!e.wasParsedOnce||e.value!==r)&&(e.value=r,e.wasParsedOnce=!0,!b||c||l||o)){if(y||(r=""),!i)return r+="",void(u&&("TEXTAREA"===(e.parent=u).tagName?(u.value=r,j||(n.nodeValue=r)):n.nodeValue=r));ue(r)?Fe(i,r,n,this):o?J(n,i===A?!r:r):(e.bool&&(n[i]=r),"value"===i&&n.value!==r?n.value=r:y&&!1!==r&&k(n,i,r),l&&n.hidden&&J(n,!1))}}}}function qe(e){ge(e,Be.bind(this))}function De(e,t,r,n,i){if(!e||!r){var o=e?Ce.call(this):t||this;ge(i,function(e){e.expr&&Be.call(o,e.expr),n[we(e.name).replace(w,"")]=e.expr?e.expr.value:e.value})}}function Ze(e){if(!e){var t=Object.keys(R);return t+Ze(t)}return e.filter(function(e){return!/[^-\w]/.test(e)}).reduce(function(e,t){var r=t.trim().toLowerCase();return e+",["+p+'="'+r+'"]'},"")}function Ge(e,t){var r=this,n=r.name,i=r.tmpl,o=r.css,s=r.attrs,a=r.onCreate;return R[n]||(Ke(n,i,o,s,a),R[n].class=this.constructor),xt(e,n,t,this),o&&$.inject(),this}function Ke(e,t,r,n,i){return ue(n)&&(i=n,/^[\w-]+\s?=/.test(r)?(n=r,r=""):n=""),r&&(ue(r)?i=r:$.add(r)),e=e.toLowerCase(),R[e]={name:e,tmpl:t,attrs:n,fn:i},e}function We(e,t,r,n,i){return r&&$.add(r,e),R[e]={name:e,tmpl:t,attrs:n,fn:i},e}function Je(e,i,o){var t,r,s=[];if($.inject(),le(i)&&(o=i,i=0),t=de(e)?(e="*"===e?r=Ze():e+Ze(e.split(/, */)))?K(e):[]:e,"*"===i){if(i=r||Ze(),t.tagName)t=K(i,t);else{var n=[];ge(t,function(e){return n.push(K(i,e))}),t=n}i=0}return function e(t){if(t.tagName){var r,n=Q(t,p);i&&n!==i&&k(t,p,n=i),(r=xt(t,n||t.tagName.toLowerCase(),o))&&s.push(r)}else t.length&&ge(t,e)}(t),s}var Qe={},Xe=Qe[x]={},Ye=0;function et(e,t,r){if(le(e))et("__"+Ye+++"__",e,!0);else{var n=r?Xe:Qe;if(!t){if(B(n[e]))throw new Error("Unregistered mixin: "+e);return n[e]}n[e]=ue(t)?D(t.prototype,n[e]||{})&&t:D(n[e]||{},t)}}function tt(){return ge(v,function(e){return e.update()})}function rt(e){R[e]=null}var nt=Object.freeze({Tag:Ge,tag:Ke,tag2:We,mount:Je,mixin:et,update:tt,unregister:rt,version:"v3.9.1"});function it(e,t){var r,n=this.parent;n&&(pe(r=n.tags[e])?r.splice(t,0,r.splice(r.indexOf(this),1)[0]):Oe(n.tags,e,this))}function ot(e,t){for(var r,n=this.__.head,i=te();n;)if(r=n.nextSibling,i.appendChild(n),(n=r)===this.__.tail){i.appendChild(n),e.insertBefore(i,t.__.head);break}}function st(e,t,r,n){var i=n?Z(n):{};return i[e.key]=t,e.pos&&(i[e.pos]=r),i}function at(e,t){e.splice(t,1),this.unmount(),He(this.parent,this,this.__.tagName,!0)}function ut(y,b,w){var _,A=typeof Q(y,i)!==l||X(y,i),O=Q(y,o),N=!!O&&H.hasExpr(O),E=Ee(y),C=R[E],e=y.parentNode,t=W(),j=Ne(y),n=Q(y,f),S=[],k=y.innerHTML,T=!R[E],L="VIRTUAL"===y.tagName,I=[];return X(y,d),X(y,o),(w=H.loopKeys(w)).isLoop=!0,n&&X(y,f),e.insertBefore(t,y),e.removeChild(y),w.update=function(){w.value=H(w.val,b);var m=w.value,g=te(),r=!pe(m)&&!de(m),v=t.parentNode,x=[];v&&(r?m=(_=m||!1)?Object.keys(m).map(function(e){return st(w,m[e],e)}):[]:_=!1,n&&(m=m.filter(function(e,t){return w.key&&!r?!!H(n,st(w,e,t,b)):!!H(n,D(Z(b),e))})),ge(m,function(e,t){var r,n,i,o,s=!_&&w.key?st(w,e,t):e,a=(n=e,i=s,o=N,(r=O)?o?H(r,i):n[r]:n),u=A&&typeof e===M&&!_,l=I.indexOf(a),c=-1===l,p=!c&&u?l:t,f=S[p],d=t>=I.length,h=u&&c||!u&&!f;h?((f=vt(C,{parent:b,isLoop:!0,isAnonymous:T,tagName:E,root:y.cloneNode(T),item:s,index:t},k)).mount(),d?function(e,t){t?Ue.call(this,e):e.appendChild(this.root)}.apply(f,[g||v,L]):function(e,t,r){r?Ue.apply(this,[e,t]):re(e,this.root,t.root)}.apply(f,[v,S[t],L]),d||I.splice(t,0,s),S.splice(t,0,f),j&&Oe(b.tags,E,f,!0)):p!==t&&u&&((O||me(m,I[p]))&&(function(e,t,r){r?ot.apply(this,[e,t]):re(e,this.root,t.root)}.apply(f,[v,S[t],L]),S.splice(t,0,S.splice(p,1)[0]),I.splice(t,0,I.splice(p,1)[0])),w.pos&&(f[w.pos]=t),!j&&f.tags&&function(t){var r=this;ge(Object.keys(this.tags),function(e){it.apply(r.tags[e],[e,t])})}.call(f,t)),D(f.__,{item:s,index:t,parent:b}),x[t]=a,h||f.update(s)}),function(e,t){for(var r=t.length,n=e.length;n<r;)at.apply(t[--r],[t,r])}(m,S),I=x.slice(),v.insertBefore(g,t))},w.unmount=function(){ge(S,function(e){e.unmount()})},w}var lt={init:function(e,t,r,n){return this.dom=e,this.attr=r,this.rawValue=n,this.parent=t,this.hasExp=H.hasExpr(n),this},update:function(){var e=this.value,t=this.parent&&$e(this.parent),r=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?H(this.rawValue,this.parent):this.rawValue,!ae(e)&&t&&He(t.refs,e,r),!ae(this.value)&&de(this.value)?(t&&Oe(t.refs,this.value,r,null,this.parent.__.index),this.value!==e&&k(this.dom,this.attr,this.value)):X(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=r)},unmount:function(){var e=this.tag||this.dom,t=this.parent&&$e(this.parent);!ae(this.value)&&t&&He(t.refs,this.value,e)}};function ct(e,t,r,n){return Z(lt).init(e,t,r,n)}function pt(e){ge(e,function(e){e.unmount?e.unmount(!0):e.tagName?e.tag.unmount(!0):e.unmount&&e.unmount()})}var ft={init:function(e,t,r){X(e,f),D(this,{tag:t,expr:r,stub:W(),pristine:e});var n=e.parentNode;return n.insertBefore(this.stub,e),n.removeChild(e),this},update:function(){this.value=H(this.expr,this.tag),this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=ht.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(pt(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),this.value&&qe.call(this.tag,this.expressions)},unmount:function(){pt(this.expressions||[])}};function dt(e,t,r){return Z(ft).init(e,t,r)}function ht(a,u){var l=this,c=[];return ie(a,function(e){var t,r,n=e.nodeType;if((u||e!==a)&&(3===n&&"STYLE"!==e.parentNode.tagName&&H.hasExpr(e.nodeValue)&&c.push({dom:e,expr:e.nodeValue}),1===n)){var i="VIRTUAL"===e.tagName;if(t=Q(e,d))return i&&k(e,"loopVirtual",!0),c.push(ut(e,l,t)),!1;if(t=Q(e,f))return c.push(dt(e,l,t)),!1;if((t=Q(e,p))&&H.hasExpr(t))return c.push({isRtag:!0,expr:t,dom:e,attrs:[].slice.call(e.attributes)}),!1;if(r=Ne(e),i&&(Q(e,"virtualized")&&e.parentElement.removeChild(e),r||Q(e,"virtualized")||Q(e,"loopVirtual")||(r={tmpl:e.outerHTML})),r&&(e!==a||u)){var o=Q(e,p);if(!i||o)return o&&i&&_e("Virtual tags shouldn't be used together with the \""+p+'" attribute - https://github.com/riot/riot/issues/2511'),c.push(ze(r,{root:e,parent:l},e.innerHTML,l)),!1;k(e,"virtualized",!0);var s=vt({tmpl:e.outerHTML},{root:e,parent:l},e.innerHTML);c.push(s)}mt.apply(l,[e,e.attributes,function(e,t){t&&c.push(t)}])}}),c}function mt(i,e,o){var s=this;ge(e,function(e){if(!e)return!1;var t,r=e.name,n=fe(r);me(u,r)&&i.tagName.toLowerCase()!==a?t=ct(i,s,r,e.value):H.hasExpr(e.value)&&(t={dom:i,expr:e.value,attr:r,bool:n}),o(e,t)})}function gt(e){var t=this.__.isAnonymous;be(this,"isMounted",e),t||(e?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function vt(e,t,r){void 0===e&&(e={}),void 0===t&&(t={});var n,a=t.context||{},i=D({},t.opts),o=t.parent,s=t.isLoop,u=!!t.isAnonymous,l=G.skipAnonymousTags&&u,c=t.item,p=t.index,f=[],d=t.root,h=t.tagName||Ee(d),m="virtual"===h,g=!m&&!e.tmpl;return l||U(a),e.name&&d._tag&&d._tag.unmount(!0),be(a,"isMounted",!1),be(a,"__",{impl:e,root:d,skipAnonymous:l,implAttrs:[],isAnonymous:u,instAttrs:[],innerHTML:r,tagName:h,index:p,isLoop:s,isInline:g,item:c,parent:o,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),be(a,"_riot_id",ye()),be(a,"root",d),D(a,{opts:i},c),be(a,"parent",o||null),be(a,"tags",{}),be(a,"refs",{}),g||s&&u?n=d:(m||(d.innerHTML=""),n=Pe(e.tmpl,r,ce(d))),be(a,"update",function(e){return r=e,n=f,i=(t=a).__,o={},s=t.isMounted&&!i.skipAnonymous,i.isAnonymous&&i.parent&&D(t,i.parent),D(t,r),De.apply(t,[i.isLoop,i.parent,i.isAnonymous,o,i.instAttrs]),s&&t.isMounted&&ue(t.shouldUpdate)&&!t.shouldUpdate(r,o)||(D(t.opts,o),s&&t.trigger("update",r),qe.call(t,n),s&&t.trigger("updated")),t;var t,r,n,i,o,s}),be(a,"mixin",function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(s){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];return ge(e,function(e){var n,t,r=[],i=["init","__proto__"];e=de(e)?et(e):e,n=ue(e)?new e:e;for(var o=Object.getPrototypeOf(n);r=r.concat(Object.getOwnPropertyNames(t||n)),t=Object.getPrototypeOf(t||n););ge(r,function(e){if(!me(i,e)){var t=V(n,e)||V(o,e),r=t&&(t.get||t.set);!s.hasOwnProperty(e)&&r?Object.defineProperty(s,e,t):s[e]=ue(n[e])?n[e].bind(s):n[e]}}),n.init&&n.init.bind(s)(s.opts)}),s}.apply(void 0,[a].concat(e))}),be(a,"mount",function(){return function(r,e,n,t){var i=r.__,o=i.root;o._tag=r,mt.apply(i.parent,[o,o.attributes,function(e,t){!i.isAnonymous&&lt.isPrototypeOf(t)&&(t.tag=r),e.expr=t,i.instAttrs.push(e)}]),ee(i.impl.attrs,function(e,t){i.implAttrs.push({name:e,value:t})}),mt.apply(r,[o,i.implAttrs,function(e,t){t?n.push(t):k(o,e.name,e.value)}]),De.apply(r,[i.isLoop,i.parent,i.isAnonymous,t,i.instAttrs]);var s=et(x);if(s&&!i.skipAnonymous)for(var a in s)s.hasOwnProperty(a)&&r.mixin(s[a]);if(i.impl.fn&&i.impl.fn.call(r,t),i.skipAnonymous||r.trigger("before-mount"),ge(ht.apply(r,[e,i.isAnonymous]),function(e){return n.push(e)}),r.update(i.item),!i.isAnonymous&&!i.isInline)for(;e.firstChild;)o.appendChild(e.firstChild);if(be(r,"root",o),!i.skipAnonymous&&r.parent){var u=$e(r.parent);u.one(u.isMounted?"updated":"mount",function(){gt.call(r,!0)})}else gt.call(r,!0);return r.__.wasCreated=!0,r}(a,n,f,i)}),be(a,"unmount",function(e){return function(t,e,r){var n=t.__,i=n.root,o=v.indexOf(t),s=i.parentNode;if(n.skipAnonymous||t.trigger("before-unmount"),ee(n.impl.attrs,function(e){ve(e,w)&&(e=e.slice(w.length)),X(i,e)}),t.__.listeners.forEach(function(t){Object.keys(t[y]).forEach(function(e){t.removeEventListener(e,t[y][e])})}),-1!==o&&v.splice(o,1),n.parent&&!n.isAnonymous){var a=$e(n.parent);n.isVirtual?Object.keys(t.tags).forEach(function(e){return He(a.tags,e,t.tags[e])}):He(a.tags,n.tagName,t)}return t.__.virts&&ge(t.__.virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),pt(r),ge(n.instAttrs,function(e){return e.expr&&e.expr.unmount&&e.expr.unmount()}),e?Y(i,""):s&&s.removeChild(i),n.onUnmount&&n.onUnmount(),t.isMounted||gt.call(t,!0),gt.call(t,!1),delete i._tag,t}(a,e,f)}),a}function xt(e,t,r,n){var i,o=R[t],s=R[t].class,a=n||(s?Z(s.prototype):{}),u=e._innerHTML=e._innerHTML||e.innerHTML,l=D({root:e,opts:r,context:a},{parent:r?r.parent:null});return o&&e&&(i=vt(o,l,u)),i&&i.mount&&(i.mount(!0),me(v,i)||v.push(i)),i}var yt=Object.freeze({arrayishAdd:Oe,getTagName:Ee,inheritParentProps:Ce,mountTo:xt,selectTags:Ze,arrayishRemove:He,getTag:Ne,initChildTag:ze,moveChildTag:it,makeReplaceVirtual:Ve,getImmediateCustomParentTag:$e,makeVirtual:Ue,moveVirtual:ot,unmountAll:pt,createIfDirective:dt,createRefDirective:ct}),bt=G,wt={tmpl:H,brackets:z,styleManager:$,vdom:v,styleNode:$.styleNode,dom:oe,check:he,misc:Ae,tags:yt},_t=Ge,At=Ke,Ot=We,Nt=Je,Et=et,Ct=tt,jt=rt,St=U,kt=D({},nt,{observable:U,settings:bt,util:wt}),Tt=Object.freeze({settings:bt,util:wt,Tag:_t,tag:At,tag2:Ot,mount:Nt,mixin:Et,update:Ct,unregister:jt,version:"v3.9.1",observable:St,default:kt});function Lt(e){var t=arguments,r=e.source,n=e.global?"g":"";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m");for(var i=1;i<arguments.length;i++)r=r.replace("@","\\"+t[i]);return new RegExp(r,n)}var It=function(r){var n={};function o(e){var t=r[e];if(t)return t;throw new Error('Parser "'+e+'" not loaded.')}function s(e,t){if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function i(e,t,r,n){return r=s({pretty:!0,filename:n,doctype:"html"},r),o(e).render(t,r)}return n.html={jade:function(e,t,r){return console.log('DEPRECATION WARNING: jade was renamed "pug" - The jade parser will be removed in riot@3.0.0!'),i("jade",e,t,r)},pug:function(e,t,r){return i("pug",e,t,r)}},n.css={less:function(e,t,r,n){var i;return r=s({sync:!0,syncImport:!0,filename:n},r),o("less").render(t,r,function(e,t){if(e)throw e;i=t.css}),i}},n.js={es6:function(e,t,r){return o("Babel").transform(e,s({plugins:[["transform-es2015-template-literals",{loose:!0}],"transform-es2015-literals","transform-es2015-function-name","transform-es2015-arrow-functions","transform-es2015-block-scoped-functions",["transform-es2015-classes",{loose:!0}],"transform-es2015-object-super","transform-es2015-shorthand-properties","transform-es2015-duplicate-keys",["transform-es2015-computed-properties",{loose:!0}],["transform-es2015-for-of",{loose:!0}],"transform-es2015-sticky-regex","transform-es2015-unicode-regex","check-es2015-constants",["transform-es2015-spread",{loose:!0}],"transform-es2015-parameters",["transform-es2015-destructuring",{loose:!0}],"transform-es2015-block-scoping","transform-es2015-typeof-symbol",["transform-es2015-modules-commonjs",{allowTopLevelThis:!0}],["transform-regenerator",{async:!1,asyncGenerators:!1}]]},t)).code},buble:function(e,t,r){return t=s({source:r,modules:!1},t),o("buble").transform(e,t).code},coffee:function(e,t){return o("CoffeeScript").compile(e,s({bare:!0},t))},livescript:function(e,t){return o("livescript").compile(e,s({bare:!0,header:!1},t))},typescript:function(e,t){return o("typescript")(e,t)},none:function(e){return e}},n.js.javascript=n.js.none,n.js.coffeescript=n.js.coffee,n._req=function(e){var t=e.split(".");if(2!==t.length)throw new Error("Bad format for parsers._req");var r=n[t[0]][t[1]];if(r)return r;throw new Error('Parser "'+e+'" not found.')},n.utils={extend:s},n}(window||global),Rt=/'[^'\n\r\\]*(?:\\(?:\r\n?|[\S\s])[^'\n\r\\]*)*'/.source,Mt=[/\/\*[^*]*\*+(?:[^*/][^*]*\*+)*\//.source,"//.*",Rt,Rt.replace(/'/g,'"'),"([/`])"].join("|"),Pt=Mt.slice(0,-2)+"{}])";function $t(e,t,r){var n=/[`$\\]/g;for(n.lastIndex=t;n.exec(e);){var i=n.lastIndex,o=e[i-1];if("`"===o)return i;if("$"===o&&"{"===e[i])return r.push("`","}"),i+1;n.lastIndex++}throw new Error("Unclosed ES6 template")}var Ft=It.utils.extend,zt=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,Ht=z.R_STRINGS.source,Ut=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,Vt=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+zt,"g"),Bt=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"/>]*)*)|\s*)(\/?)>/g,qt=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,Dt=["style","src","d","value"],Zt=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,Gt=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,Kt=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,Wt=/^\s*import(?!\w)(?:(?:\s|[^\s'"])*)['|"].*\n?/gm,Jt=/[ \t]+$/gm,Qt=Lt(/@#\d/,"x01"),Xt=Lt(/@#(\d+)/g,"x01"),Yt="#",er="⁗",tr='"',rr="'";function nr(e){var t,r=Vt;for(1!==e.indexOf("\r")&&(e=e.replace(/\r\n?/g,"\n")),r.lastIndex=0;t=r.exec(e);)"<"===t[0][0]&&(e=RegExp.leftContext+RegExp.rightContext,r.lastIndex=t[3]+1);return e}function ir(e,t){var r,n,i,o=[];for(Ut.lastIndex=0,e=e.replace(/\s+/g," ");r=Ut.exec(e);){var s=r[1].toLowerCase(),a=r[2];a?(a[0]!==tr&&(a=tr+(a[0]===rr?a.slice(1,-1):a)+tr),"type"===s&&Kt.test(a)?n=a:(Qt.test(a)&&("value"===s&&(i=1),-1!==Dt.indexOf(s)&&(s="riot-"+s)),o.push(s+"="+a))):o.push(s)}return n&&(i&&(n=tr+t._bp[0]+rr+n.slice(1,-1)+rr+t._bp[1]+tr),o.push("type="+n)),o.join(" ")}function or(e,t,r){var n=r._bp;if(e&&n[4].test(e)){for(var i,o=t.expr&&(t.parser||t.type)?cr:0,s=z.split(e,0,n),a=1;a<s.length;a+=2)"^"===(i=s[a])[0]?i=i.slice(1):o&&";"===(i=o(i,t).trim()).slice(-1)&&(i=i.slice(0,-1)),s[a]=Yt+(r.push(i)-1)+n[1];e=s.join("")}return e}function sr(e,r){return r.length&&(e=e.replace(Xt,function(e,t){return r._bp[0]+r[t].trim().replace(/[\r\n]+/g," ").replace(/"/g,er)})),e}function ar(e,t,i){if(!/\S/.test(e))return"";if(e=or(e,t,i).replace(Bt,function(e,t,r,n){return t=t.toLowerCase(),n=n&&!Zt.test(t)?"></"+t:"",r&&(t+=" "+ir(r,i)),"<"+t+n+">"}),!t.whitespace){var r=[];/<pre[\s>]/.test(e)&&(e=e.replace(Gt,function(e){return r.push(e),""})),e=e.trim().replace(/\s+/g," "),r.length&&(e=e.replace(/\u0002/g,function(){return r.shift()}))}return t.compact&&(e=e.replace(qt,"><$1")),sr(e,i).replace(Jt,"")}var ur=/^[ \t]*(((?:async|\*)\s*)?([$_A-Za-z][$\w]*))\s*\([^()]*\)\s*{/m;function lr(e){var t,r,n,i,o,s,a=[],u=RegExp,l=function(e,t){for(var r,n,i,o,s,a,u=new RegExp(Mt,"g"),l=z.skipRegex,c=0|t,p=[[]],f=[],d=u,h=d.lastIndex=c;a=d.exec(e);){if(o=a.index,s=d.lastIndex,n="",i=a[1]){if("{"===i)f.push("}");else if("}"===i){if(f.pop()!==i)throw new Error("Unexpected '}'");"`"===f[f.length-1]&&(i=f.pop())}else"/"===i&&o+1<(s=l(e,o))&&(n=e.slice(o,s));"`"===i&&(s=$t(e,s,f),n=e.slice(o,s),d=f.length?r||(r=new RegExp(Pt,"g")):u)}else"/"===(n=a[0])[0]?(n="*"===n[1]?" ":"",e=e.slice(c,o)+n+e.slice(s),s=o+n.length,n=""):2===n.length&&(n="");n&&(p[0].push(e.slice(h,o)),p.push(n),h=s),d.lastIndex=s}return p[0].push(e.slice(h)),p}(e);for(e=l.shift().join("<%>");t=e.match(ur);)a.push(u.leftContext),n=c(e=u.rightContext),i=t[1],o=t[2]||"",s=t[3],s=(r=!/^(?:if|while|for|switch|catch|function)$/.test(s))?t[0].replace(i,"this."+s+" ="+o+" function"):t[0],a.push(s,e.slice(0,n)),e=e.slice(n),r&&!/^\s*.\s*bind\b/.test(e)&&a.push(".bind(this)");return a.length&&(e=a.join("")+e),l.length&&(e=e.replace(/<%>/g,function(){return l.shift()})),e;function c(e){for(var t=/[{}]/g,r=1;r&&t.exec(e);)"{"===e[t.lastIndex-1]?++r:--r;return r?e.length:t.lastIndex}}function cr(e,t,r,n,i){return/\S/.test(e)?(r||(r=t.type),(t.parser||r&&It._req("js."+r,!0)||lr)(e,n,i).replace(/\r\n?/g,"\n").replace(Jt,"")):""}var pr=RegExp("([{}]|^)[; ]*((?:[^@ ;{}][^{}]*)?[^@ ;{}:] ?)(?={)|"+zt,"g");function fr(e,t,r,n){var i,o;(n=n||{},r)&&("css"!==r&&(e=It._req("css."+r,!0)(t,e,n.parserOpts||{},n.url)));return e=e.replace(z.R_MLCOMMS,"").replace(/\s+/g," ").trim(),t&&(i=t,o=":scope",e=e.replace(pr,function(e,t,r){return r?(r=r.replace(/[^,]+/g,function(e){var t=e.trim();return 0===t.indexOf(i)?e:t&&"from"!==t&&"to"!==t&&"%"!==t.slice(-1)?t=t.indexOf(o)<0?i+" "+t+',[data-is="'+i+'"] '+t:t.replace(o,i)+","+t.replace(o,'[data-is="'+i+'"]'):e}),t?t+" "+r:r):e})),e}var dr=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,hr="\\s*=\\s*("+Ht+"|{[^}]+}|\\S+)",mr=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/;function gr(e,t){return e?(e=rr+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+rr,t&&-1!==e.indexOf("\n")?e.replace(/\n/g,"\\n"):e):"''"}function vr(e){if(e){var t=e.match(dr);if(t=t&&(t[2]||t[3]))return t.replace("text/","")}return""}function xr(e,t){if(e){var r=e.match(RegExp("\\s"+t+hr,"i"));if(r=r&&r[1])return/^['"]/.test(r)?r.slice(1,-1):r}return""}function yr(e){var t=xr(e,"options").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'");return t?JSON.parse(t):null}var br=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"/>]+(?:(?:@|\/[^>])[^'"/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",Ht),"gim"),wr=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,_r=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi;var Ar,Or,Nr={compile:function(e,b,w){var _,A=[],t=e;b||(b={}),b.parserOptions=Ft({template:{},js:{},style:{}},b.parserOptions||{}),_=b.exclude?function(e){return b.exclude.indexOf(e)<0}:function(){return 1},w||(w="");var r,n,i,o,O=z.array(b.brackets);return b.template&&(r=t,n=w,i=b.template,o=b.parserOptions.template,t=It._req("html."+i,!0)(r,o,n)),t=nr(t).replace(br,function(e,t,c,r,n,i){var o,s,a,u,l,p,f,d,h="",m="",g="",v="",x=[];if(x._bp=O,c=c.toLowerCase(),r=r&&_("attribs")?sr(ir(or(r,b,x),x),x):"",(n||(n=i))&&/\S/.test(n))if(i)_("html")&&(g=ar(i,b,x));else{var y=function(e){if(/<[-\w]/.test(e))for(var t,r=e.lastIndexOf("<"),n=e.length;-1!==r;){if(t=e.slice(r,n).match(mr))return r+=t.index+t[0].length,"<-/>\n"===(t=e.slice(0,r)).slice(-5)&&(t=t.slice(0,-5)),[t,e.slice(r)];n=r,r=e.lastIndexOf("<",r-1)}return["",e]}((n=(n=(n=n.replace(RegExp("^"+t,"gm"),"")).replace(wr,function(e,t,r){if(_("js")){var n=(i=r,o=b,a=w,u=vr(s=t),l=xr(s,"src"),c=Ft({},o.parserOptions.js),!l&&cr(i,o,u,Ft(c,yr(s)),a));n&&(h+=(h?"\n":"")+n)}var i,o,s,a,u,l,c;return""})).replace(_r,function(e,t,r){var n,i,o,s,a,u,l;return _("css")&&(m+=(m?" ":"")+(n=r,o=t,s=w,a=c,u=Ft({},(i=b).parserOptions.style),l={parserOpts:Ft(u,yr(o)),url:s},fr(n,a,vr(o)||i.style,l))),""})).replace(Jt,""));_("html")&&(g=ar(y[0],b,x)),_("js")&&((n=cr(y[1],b,null,null,w))&&(h+=(h?"\n":"")+n),h=h.replace(Wt,function(e){return v+=e.trim()+"\n",""}))}return h=/\S/.test(h)?h.replace(/\n{3,}/g,"\n\n"):"",b.entities?(A.push({tagName:c,html:g,css:m,attribs:r,js:h,imports:v}),""):(o=c,s=g,a=m,u=r,l=h,p=v,f=b.debug?",\n  ":", ",d="});",l&&"\n"!==l.slice(-1)&&(d="\n"+d),p+"riot.tag2('"+o+rr+f+gr(s,1)+f+gr(a)+f+gr(u)+", function(opts) {\n"+l+d)}),b.entities?A:t},compileHTML:function(e,t,r){return Array.isArray(t)?(r=t,t={}):(r||(r=[]),t||(t={})),r._bp=z.array(t.brackets),ar(nr(e),t,r)},compileCSS:function(e,t,r){return t&&"object"==typeof t?(r=t,t=""):r||(r={}),fr(e,r.tagName,t,r)},compileJS:function(e,t,r,n){return"string"==typeof t&&(n=r,r=t,t={}),r&&"object"==typeof r&&(n=r,r=""),n||(n={}),cr(e,t||{},r,n.parserOptions,n.url)},parsers:It,version:"v3.4.0"};function Er(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status||!n.status&&n.responseText.length?t(n.responseText,r,e):Sr.error('"'+e+'" not found'))},n.onerror=function(e){return Sr.error(e)},n.open("GET",e,!0),n.send("")}function Cr(e,t){if(typeof e===l){var r=S("script"),n=document.documentElement;t&&(e+="\n//# sourceURL="+t+".js"),r.text=e,n.appendChild(r),n.removeChild(r)}}var jr=Nr.parsers;function Sr(e,i,t){if(typeof e===l){if(le(i)&&(t=i,i=!1),/^\s*</m.test(e)){var r=Nr.compile(e,t);return!0!==i&&Cr(r),ue(i)&&i(r,e,t),r}Er(e,function(e,t,r){var n=Nr.compile(e,t,r);Cr(n,r),i&&i(n,e,t)},t)}else if(pe(e)){var o=e.length;e.forEach(function(e){Er(e,function(e,t,r){var n=Nr.compile(e,t,r);Cr(n,r),!--o&&i&&i(n,e,t)},t)})}else{if(ue(e)?(t=i,i=e):(t=e,i=void 0),Or)return i&&i();Ar?i&&Ar.on("ready",i):(Ar=U(),function(e,t){var r=K('script[type="riot/tag"]'),n=r.length;function i(){Ar.trigger("ready"),Or=!0,e&&e()}function o(e,t,r){Cr(Nr.compile(e,t,r),r),--n||i()}if(n)for(var s=0;s<r.length;++s){var a=r[s],u=D({template:Q(a,"template")},t),l=Q(a,"src")||Q(a,"data-src");l?Er(l,o,u):o(a.innerHTML,u)}else i()}(i,t))}}return Sr.error=function(e){throw new Error(e)},D({},Tt,{mount:function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];return Sr(function(){e=Nt.apply(Tt,t)}),e},compile:Sr,parsers:jr})},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.riot=t();
