/* Riot v3.0.0-alpha.5, @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.riot=e.riot||{})}(this,function(e){"use strict";function t(e,t,n,r){var i=function(e){var i=r._parent,o=r._item;if(!o)for(;i&&!o;)o=i._item,i=i._parent;e=e||me.event,z(e,"currentTarget")&&(e.currentTarget=n),z(e,"target")&&(e.target=e.srcElement),z(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=o,t.call(r,e),e.preventUpdate||P(r).update()};if(!n.addEventListener)return void(n[e]=i);var o=e.replace(/^on/,"");n._eventHandlers&&n._eventHandlers[o]&&n.removeEventListener(o,n._eventHandlers[o]),n._eventHandlers||(n._eventHandlers={}),n._eventHandlers[o]=i,n.addEventListener(o,i,!1)}function n(e,n){_(e,function(e,i){var o=e.dom,a=e.attr,u=Le(e.expr,n),s=o&&o.parentNode,f="value"==a;if(e.bool?u=!!u&&a:null==u&&(u=""),e._riot_id){if(e.isMounted)e.update();else if(e.mount(),"VIRTUAL"==e.root.tagName){var l=document.createDocumentFragment();ie(e,l),e.root.parentElement.replaceChild(l,e.root)}}else{if(e.update)return void e.update();var c=e.value;if(e.value=u,e.isRtag&&u)return r(e,n);if(!(f&&o.value==u||!f&&c===u)){if(!a)return u+="",void(s&&("TEXTAREA"===s.tagName?(s.value=u,_e||(o.nodeValue=u)):o.nodeValue=u));if(H(o,a),N(u))t(a,u,o,n);else if(/^(show|hide)$/.test(a))"hide"==a&&(u=!u),o.style.display=u?"":"none";else if("value"==a)o.value=u;else if(ne(a,le)&&a!=ce)u&&k(o,a.slice(le.length),u);else{if("selected"==a&&s&&/^(SELECT|OPTGROUP)$/.test(s.nodeName)&&u&&(s.value=o.value),e.bool&&(o[a]=u,!u))return;(0===u||u&&("undefined"==typeof u?"undefined":ae(u))!==he)&&k(o,a,u)}}}})}function r(e,t){var n,r=Le(e.value,t);if(e.tag&&e.tagName==r)return void e.tag.update();if(e.tag){var i=e.tag.opts.riotTag,o=e.tag._parent.tags[i];K(o)?o.splice(o.indexOf(e.tag),1):delete e.tag._parent.tags[i]}e.impl=se[r],n={root:e.dom,parent:t,hasImpl:!0,tagName:r},e.tag=$(e.impl,n,e.dom.innerHTML,t),e.tagName=r,e.tag.mount(),e.tag.update()}function i(e,t,n){H(e,"if"),this.parentTag=t,this.expr=n,this.stub=document.createTextNode(""),this.pristine=e;var r=e.parentNode;r.insertBefore(this.stub,e),r.removeChild(e)}function o(e,t,n,r){this.dom=e,this.attr=t,this.rawValue=n,this.parent=r,this.hasExp=Le.hasExpr(n),this.firstRun=!0}function a(e,t,n,r){var i=r?Object.create(r):{};return i[e.key]=t,e.pos&&(i[e.pos]=n),i}function u(e,t,n,r){for(var i,o=t.length,a=e.length;o>a;)i=t[--o],t.splice(o,1),i.unmount(),te(r.tags,n,i,!0)}function s(e,t){Object.keys(e.tags).forEach(function(n){var r=e.tags[n];K(r)?_(r,function(e){A(e,n,t)}):A(r,n,t)})}function f(e,t,n){H(e,"each");var r,i=ae(R(e,"no-reorder"))!==pe||H(e,"no-reorder"),o=D(e),f=se[o]||{tmpl:C(e)},l=ye.test(o),c=e.parentNode,d=document.createTextNode(""),p=I(e),h="option"===o.toLowerCase(),g=[],v=[],m="VIRTUAL"==e.tagName;n=Le.loopKeys(n),n.isLoop=!0;var y=R(e,"if");return y&&H(e,"if"),c.insertBefore(d,e),c.removeChild(e),n.update=function(){var x=Le(n.val,t),b=document.createDocumentFragment();if(c=d.parentNode,K(x)||(r=x||!1,x=r?Object.keys(x).map(function(e){return a(n,e,x[e])}):[]),y&&(x=x.filter(function(e,r){var i=a(n,e,r,t);return!!Le(y,i)})),x.forEach(function(u,d){var h,y=i&&("undefined"==typeof u?"undefined":ae(u))==he&&!r,x=v.indexOf(u),_=~x&&y?x:d,N=g[_];u=!r&&n.key?a(n,u,d):u,!y&&!N||y&&!~x||!N?(N=new w(f,{parent:t,isLoop:!0,anonymous:!se[o],root:l?c:e.cloneNode(),item:u},e.innerHTML),N.mount(),h=N.root,d==g.length?m?ie(N,b):b.appendChild(h):(m?ie(N,c,g[d]):c.insertBefore(h,g[d].root),v.splice(d,0,u)),g.splice(d,0,N),p&&ee(t.tags,o,N,!0),_=d):N.update(u),_!==d&&y&&(m?oe(N,c,g[d],e.childNodes.length):g[d].root.parentNode&&c.insertBefore(N.root,g[d].root),n.pos&&(N[n.pos]=d),g.splice(d,0,g.splice(_,1)[0]),v.splice(d,0,v.splice(_,1)[0]),!p&&N.tags&&s(N,d)),N._item=u,F(N,"_parent",t)}),u(x,g,o,t),c.insertBefore(b,d),h&&Ne&&!c.multiple)for(var _=0;_<c.length;_++)if(c[_].__riot1374){c.selectedIndex=_,delete c[_].__riot1374;break}v=x.slice()},n.unmount=function(){_(g,function(e){e.unmount()})},n}function l(e,t,n,r){var o={parent:{children:n}};Z(e,function(n,o){var a,u,s=n.nodeType,l=o.parent;if(!r&&n===e)return{parent:l};if(3==s&&"STYLE"!=n.parentNode.tagName&&Le.hasExpr(n.nodeValue)&&l.children.push({dom:n,expr:n.nodeValue}),1!=s)return o;if(a=R(n,"each"))return l.children.push(f(n,t,a)),!1;if(a=R(n,"if"))return l.children.push(new i(n,t,a)),!1;if((u=R(n,ce))&&Le.hasExpr(u))return l.children.push({isRtag:!0,expr:u,dom:n}),!1;var d=I(n);if(d&&(n!==e||r)){var p={root:n,parent:t,hasImpl:!0};return l.children.push($(d,p,n.innerHTML,t)),!1}return c(n,n.attributes,t,function(e,t){t&&l.children.push(t)}),{parent:l}},o)}function c(e,t,n,r){_(t,function(t){var i,a=t.name,u=we.test(a);"name"===a||"id"===a?i=new o(e,a,t.value,n):Le.hasExpr(t.value)&&(i={dom:e,expr:t.value,attr:t.name,bool:u}),r(t,i)})}function d(e,t,n){var r="o"===n[0],i=r?"select>":"table>";if(e.innerHTML="<"+i+t.trim()+"</"+i,i=e.firstChild,r)i.selectedIndex=-1;else{var o=Re[n];o&&1===i.childElementCount&&(i=J(o,i))}return i}function p(e,t){if(!Me.test(e))return e;var n={};return t=t&&t.replace(He,function(e,t,r){return n[t]=n[t]||r,""}).trim(),e.replace(je,function(e,t,r){return n[t]||r||""}).replace(Se,function(e,n){return t||n||""})}function h(e,t){var n=e&&e.match(/^\s*<([-\w]+)/),r=n&&n[1].toLowerCase(),i=X(Ie,L(r));return e=p(e,t),ke.test(r)?i=d(i,e,r):E(i,e),i.stub=!0,i}function g(e,t,n,r,i){return N(r)&&(i=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(N(n)?i=n:Ue.add(n)),e=e.toLowerCase(),se[e]={name:e,tmpl:t,attrs:r,fn:i},e}function v(e,t,n,r,i){n&&Ue.add(n,e);var o=!!se[e];return se[e]={name:e,tmpl:t,attrs:r,fn:i},o&&riot.util.hotReloader&&riot.util.hotReloader(e),e}function m(e,t,n){function r(e){if(e.tagName){var o=R(e,de)||R(e,ce);t&&o!==t&&(o=t,k(e,de,t),k(e,ce,t));var a=re(e,o||e.tagName.toLowerCase(),n);a&&i.push(a)}else e.length&&_(e,r)}var i=[];Ue.inject(),T(t)&&(n=t,t=0);var o=void 0,a=void 0;if(M(e)?(e="*"===e?a=U():e+U(e.split(/, */)),o=e?Y(e):[]):o=e,"*"===t){if(t=a||U(),o.tagName)o=Y(t,o);else{var u=[];_(o,function(e){return u.push(Y(t,e))}),o=u}t=0}return r(o),i}function y(e,t,n){if(T(e))return void y("__unnamed_"+Pe++,e,!0);var r=n?$e:Ae;if(!t){if(O(r[e]))throw new Error("Unregistered mixin: "+e);return r[e]}r[e]=N(t)?V(t.prototype,r[e]||{})&&t:V(r[e]||{},t)}function x(){return _(ue,function(e){return e.update()})}function b(e){delete se[e]}function w(e,t,r){function i(){if(!g||!v){var e=!v&&g?f:p||f;_(x,function(t){t.expr&&n([t.expr],e),d[j(t.name)]=t.expr?t.expr.value:t.value})}}function a(e){for(var t in m)ae(f[t])!==ge&&z(f,t)&&(f[t]=e[t])}function u(e){_(Object.keys(e),function(t){var n=!xe.test(t)&&G(L,t);(ae(f[t])===ge||n)&&(n||L.push(t),f[t]=e[t])})}var s,f=Ce(this),d=W(t.opts)||{},p=t.parent,g=t.isLoop,v=t.anonymous,m=q(t.item),x=[],b=[],w=[],C=t.root,E=t.tagName||C.tagName.toLowerCase(),L=[];e.name&&C._tag&&C._tag.unmount(!0),this.isMounted=!1,C.isLoop=g,this._internal={anonymous:v,origAttrs:x,innerHTML:r},F(this,"_riot_id",++Be),V(this,{parent:p,root:C,opts:d},m),F(this,"tags",{}),s=h(e.tmpl,r),F(this,"update",function(e){if(!N(f.shouldUpdate)||f.shouldUpdate())return e=q(e),g&&v&&u(f.parent),e&&T(m)&&(a(e),m=e),V(f,e),i(),f.isMounted&&f.trigger("update",e),n(w,f),f.isMounted&&f.trigger("updated"),this}),F(this,"mixin",function(){return _(arguments,function(e){var t,n,r=[];e=("undefined"==typeof e?"undefined":ae(e))===pe?y(e):e,t=N(e)?new e:e;do r=r.concat(Object.getOwnPropertyNames(n||t));while(n=Object.getPrototypeOf(n||t));_(r,function(e){if("init"!=e){var n=Object.getOwnPropertyDescriptor(t,e),r=n&&(n.get||n.set);!f.hasOwnProperty(e)&&r?Object.defineProperty(f,e,n):f[e]=N(t[e])?t[e].bind(f):t[e]}}),t.init&&t.init.bind(f)()}),this}),F(this,"mount",function(t){C._tag=this;var n=y(fe);if(n)for(var r in n)n.hasOwnProperty(r)&&f.mixin(n[r]);if(c(C,C.attributes,p,function(e,t){!v&&t instanceof o&&(t.tag=f),e.expr=t,x.push(e)}),f._parent&&v&&u(f._parent),i(),e.fn&&e.fn.call(f,d),b=[],Q(e.attrs,function(e,t){b.push({name:e,value:t})}),c(C,b,f,function(e,t){t?w.push(t):k(C,e.name,e.value)}),l(s,f,w,!1),f.update(m),f.trigger("before-mount"),g&&v)f.root=C=s.firstChild;else{for(;s.firstChild;)C.appendChild(s.firstChild);C.stub&&(f.root=C=p.root)}F(f,"root",C),f.isMounted=!0,!f.parent||f.parent.isMounted?f.trigger("mount"):f.parent.one("mount",function(){f.trigger("mount")})}),F(this,"unmount",function(e){var t,n=f.root,r=n.parentNode,i=ue.indexOf(f);if(f.trigger("before-unmount"),~i&&ue.splice(i,1),r){if(p)t=P(p),te(t.tags,E,f);else for(;n.firstChild;)n.removeChild(n.firstChild);e?(H(r,de),H(r,ce)):r.removeChild(n)}this._virts&&_(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),B(w),f.trigger("unmount"),f.off("*"),f.isMounted=!1,delete f.root._tag,f.root._eventHandlers&&(_(Object.keys(f.root._eventHandlers),function(e){f.root.removeEventListener(e,f.root._eventHandlers[e])}),delete f.root._eventHandlers)})}function _(e,t){for(var n,r=e?e.length:0,i=0;i<r;i++)n=e[i],null!=n&&t(n,i)===!1&&i--;return e}function N(e){return("undefined"==typeof e?"undefined":ae(e))===ve||!1}function C(e){if(e.outerHTML)return e.outerHTML;var t=X("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function E(e,t){if(ae(e.innerHTML)!=ge)e.innerHTML=t;else{var n=(new DOMParser).parseFromString(t,"application/xml");e.appendChild(e.ownerDocument.importNode(n.documentElement,!0))}}function L(e){return~be.indexOf(e)}function T(e){return e&&("undefined"==typeof e?"undefined":ae(e))===he}function O(e){return("undefined"==typeof e?"undefined":ae(e))===ge}function M(e){return("undefined"==typeof e?"undefined":ae(e))===pe}function S(e){return("undefined"==typeof e?"undefined":ae(e))===ge||null===e||""===e}function H(e,t){e.removeAttribute(t)}function j(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function R(e,t){return e.getAttribute(t)}function k(e,t,n){e.setAttribute(t,n)}function I(e){return e.tagName&&se[R(e,de)||R(e,ce)||e.tagName.toLowerCase()]}function A(e,t,n){var r,i=e.parent;i&&(r=i.tags[t],K(r)?r.splice(n,0,r.splice(r.indexOf(e),1)[0]):ee(i.tags,t,e))}function $(e,t,n,r){var i=new w(e,t,n),o=t.tagName||D(t.root,!0),a=P(r);return i.parent=a,i._parent=r,ee(a.tags,o,i),a!==r&&ee(r.tags,o,i),t.root.innerHTML="",i}function P(e){for(var t=e;t._internal.anonymous&&t.parent;)t=t.parent;return t}function B(e){var t,n,r=e.length;for(t=0;t<r;t++)n=e[t],n instanceof w?n.unmount(!0):n.unmount&&n.unmount()}function F(e,t,n,r){return Object.defineProperty(e,t,V({value:n,enumerable:!1,writable:!1,configurable:!0},r)),e}function D(e,t){var n=I(e),r=!t&&R(e,"name"),i=r&&!Le.hasExpr(r)?r:n?n.name:e.tagName.toLowerCase();return i}function U(e){if(!e){var t=Object.keys(se);return t+U(t)}return e.filter(function(e){return!/[^-\w]/.test(e)}).reduce(function(e,t){var n=t.trim().toLowerCase();return e+(",["+de+'="'+n+'"]')},"")}function V(e){for(var t,n=arguments,r=1;r<n.length;++r)if(t=n[r])for(var i in t)z(e,i)&&(e[i]=t[i]);return e}function G(e,t){return~e.indexOf(t)}function K(e){return Array.isArray(e)||e instanceof Array}function z(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return ae(e[t])===ge||n&&n.writable}function q(e){if(!(e instanceof w||e&&ae(e.trigger)==ve))return e;var t={};for(var n in e)xe.test(n)||(t[n]=e[n]);return t}function Z(e,t,n){if(e){var r,i=t(e,n);if(i===!1)return;for(e=e.firstChild;e;)r=e.nextSibling,Z(e,t,i),e=r}}function Q(e,t){if(e)for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function X(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function Y(e,t){return(t||document).querySelectorAll(e)}function J(e,t){return(t||document).querySelector(e)}function W(e){function t(){}return t.prototype=e,new t}function ee(e,t,n,r){var i=e[t],o=K(i);i&&i===n||(!i&&r?e[t]=[n]:i?(!o||o&&!G(i,n))&&(o?i.push(n):e[t]=[i,n]):e[t]=n)}function te(e,t,n,r){K(e[t])?(_(e[t],function(r,i){r===n&&e[t].splice(i,1)}),e[t].length?1!=e[t].length||r||(e[t]=e[t][0]):delete e[t]):delete e[t]}function ne(e,t){return e.slice(0,t.length)===t}function re(e,t,n){var r=se[t],i=e._innerHTML=e._innerHTML||e.innerHTML;e.innerHTML="";var o={root:e,opts:n};return n&&n.parent&&(o.parent=n.parent),r&&e&&(r=new w(r,o,i)),r&&r.mount&&(r.mount(!0),G(ue,r)||ue.push(r)),r}function ie(e,t,n){var r,i,o=document.createTextNode(""),a=document.createTextNode("");for(e._head=e.root.insertBefore(o,e.root.firstChild),e._tail=e.root.appendChild(a),i=e._head,e._virts=[];i;)r=i.nextSibling,n?t.insertBefore(i,n._head):t.appendChild(i),e._virts.push(i),i=r}function oe(e,t,n){for(var r,i=e._head;i;)if(r=i.nextSibling,t.insertBefore(i,n._head),i=r,i==e._tail){t.insertBefore(i,n._head);break}}var ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},ue=[],se={},fe="__global_mixin",le="riot-",ce="data-is",de="data-is",pe="string",he="object",ge="undefined",ve="function",me=("undefined"==typeof window?"undefined":ae(window))==ge?void 0:window,ye=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,xe=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,be=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],we=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,_e=0|(me&&me.document||{}).documentMode,Ne=me&&!!me.InstallTrigger,Ce=function(e){function t(e,t){for(var n,r,i=e.split(" "),o=i.length,a=0;a<o;a++)n=i[a],r=n.indexOf("."),n&&t(~r?n.substring(0,r):n,a,~r?n.slice(r+1):null)}e=e||{};var n={},r=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(r,i){return"function"!=typeof i?e:(t(r,function(e,t,r){(n[e]=n[e]||[]).push(i),i.typed=t>0,i.ns=r}),e)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,i){return"*"!=r||i?t(r,function(e,t,r){if(i||r)for(var o,a=n[e],u=0;o=a&&a[u];++u)(o==i||r&&o.ns==r)&&a.splice(u--,1);else delete n[e]}):n={},e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){function r(){e.off(t,r),n.apply(e,arguments)}return e.on(t,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(i){for(var o,a=arguments.length-1,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s+1];return t(i,function(t,i,a){o=r.call(n[t]||[],0);for(var s,f=0;s=o[f];++f)a&&s.ns!=a||s.apply(e,s.typed?[t].concat(u):u),o[f]!==s&&f--;n["*"]&&"*"!=t&&e.trigger.apply(e,["*",t].concat(u))}),e},enumerable:!1,writable:!1,configurable:!1}}),e},Ee=function(e){function t(e){return e}function n(e,t){return t||(t=m),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?f:"")}function r(e){if(e===h)return g;var t=e.split(" ");if(2!==t.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:g[4],t),t[5]=n(e.length>3?/\\({|})/g:g[5],t),t[6]=n(g[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+d,f),t[8]=e,t}function i(e){return e instanceof RegExp?u(e):m[e]}function o(e){(e||(e=h))!==m[8]&&(m=r(e),u=e===h?t:n,m[9]=u(g[9])),v=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:o,get:function(){return v},enumerable:!0}),s=e,o(t)}var u,s,f="g",l=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,c=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,d=c.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,p={"(":RegExp("([()])|"+d,f),"[":RegExp("([[\\]])|"+d,f),"{":RegExp("([{}])|"+d,f)},h="{ }",g=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+d,f),h,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],v=e,m=[];return i.split=function(e,t,n){function r(e){t||a?f.push(e&&e.replace(n[5],"$1")):f.push(e)}function i(e,t,n){var r,i=p[t];for(i.lastIndex=n,n=1;(r=i.exec(e))&&(!r[1]||(r[1]===t?++n:--n)););return n?e.length:i.lastIndex}n||(n=m);var o,a,u,s,f=[],l=n[6];for(a=u=l.lastIndex=0;o=l.exec(e);){if(s=o.index,a){if(o[2]){l.lastIndex=i(e,o[2],l.lastIndex);continue}if(!o[3])continue}o[1]||(r(e.slice(u,s)),u=l.lastIndex,l=n[6+(a^=1)],l.lastIndex=u)}return e&&u<e.length&&r(e.slice(u)),f},i.hasExpr=function(e){return m[4].test(e)},i.loopKeys=function(e){var t=e.match(m[9]);return t?{key:t[1],pos:t[2],val:m[0]+t[3].trim()+m[1]}:{val:e.trim()}},i.array=function(e){return e?r(e):m},Object.defineProperty(i,"settings",{set:a,get:function(){return s}}),i.settings="undefined"!=typeof riot&&riot.settings||{},i.set=o,i.R_STRINGS=c,i.R_MLCOMMS=l,i.S_QBLOCKS=d,i}(),Le=function(){function e(e,r){return e?(a[e]||(a[e]=n(e))).call(r,t):e}function t(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function n(e){var t=r(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function r(e){var t,n=[],r=Ee.split(e.replace(l,'"'),1);if(r.length>2||r[0]){var o,a,u=[];for(o=a=0;o<r.length;++o)t=r[o],t&&(t=1&o?i(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[a++]=t);t=a<2?u[0]:"["+u.join(",")+'].join("")'}else t=i(r[1],0,n);return n[0]&&(t=t.replace(c,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function i(e,t,n){function r(t,n){var r,i=1,o=d[t];for(o.lastIndex=n.lastIndex;r=o.exec(e);)if(r[0]===t)++i;else if(!--i)break;n.lastIndex=i?e.length:o.lastIndex}if(e=e.replace(f,function(e,t){return e.length>2&&!t?u+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,a=[],l=0;e&&(i=e.match(s))&&!i.index;){var c,p,h=/,|([[{(])|$/g;for(e=RegExp.rightContext,c=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];p=(i=h.exec(e))[1];)r(p,h);p=e.slice(0,i.index),e=RegExp.rightContext,a[l++]=o(p,1,c)}e=l?l>1?"["+a.join(",")+'].join(" ").trim()':a[0]:o(e,t)}return e}function o(e,t,n){var r;return e=e.replace(h,function(e,t,n,i,o){return n&&(i=r?0:i+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+p+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!g.test(o.slice(i)))),e}),r&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var a={};e.haveRaw=Ee.hasRaw,e.hasExpr=Ee.hasExpr,e.loopKeys=Ee.loopKeys,e.errorHandler=null;var u="‚Åó",s=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,f=RegExp(Ee.S_QBLOCKS,"g"),l=/\u2057/g,c=/\u2057(\d+)~/g,d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},p='"in this?this:'+("object"!==("undefined"==typeof window?"undefined":ae(window))?"global":"window")+").",h=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,g=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.parse=function(e){return e},e.version=Ee.version="v2.4.0",e}();i.prototype.update=function(){var e=Le(this.expr,this.parentTag);e&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=[],l(this.current,this.parentTag,this.expressions,!0)):!e&&this.current&&(B(this.expressions),this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),e&&n(this.expressions,this.parentTag)},i.prototype.unmount=function(){B(this.expressions||[]),delete this.pristine,delete this.parentNode,delete this.stub},o.prototype.update=function(){var e=this.rawValue;if(this.hasExp&&(e=Le(this.rawValue,this.parent)),this.firstRun||e!==this.value){var t=this.parent&&P(this.parent),n=this.tag||this.dom;!S(this.value)&&t&&te(t,this.value,n),S(e)?H(this.dom,this.attr):(t&&ee(t,e,n),k(this.dom,this.attr,e)),this.value=e,this.firstRun=!1}},o.prototype.unmount=function(){var e=this.tag||this.dom,t=this.parent&&P(this.parent);!S(this.value)&&t&&te(t,this.value,e),delete this.dom,delete this.parent};var Te,Oe,Me=/<yield\b/i,Se=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,He=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,je=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Re={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},ke=_e&&_e<10?ye:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Ie="div",Ae={},$e=Ae[fe]={},Pe=0,Be=0,Fe={},De=[];me&&(Te=function(){var e=X("style");k(e,"type","text/css");var t=J("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),Oe=Te.styleSheet);var Ue={styleNode:Te,add:function(e,t){t?Fe[t]=e:De.push(e)},inject:function(){if(me){var e=Object.keys(Fe).map(function(e){return Fe[e]}).concat(De).join("\n");Oe?Oe.cssText=e:Te.innerHTML=e}}},Ve={tmpl:Le,brackets:Ee,styleManager:Ue,styleNode:Ue.styleNode},Ge=Ee.settings;e.util=Ve,e.settings=Ge,e.observable=Ce,e.vdom=ue,e.tag=g,e.tag2=v,e.mount=m,e.mixin=y,e.update=x,e.unregister=b,Object.defineProperty(e,"__esModule",{value:!0})});
