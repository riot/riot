/* Riot v4.2.0, @license MIT */
var t,e;t=this,e=function(t){"use strict";const e=new Map,n=Symbol("riot-component"),r=new Set,o="is",s="value",i=Symbol("attributes"),u=Symbol("template");var a=Object.freeze({COMPONENTS_IMPLEMENTATION_MAP:e,DOM_COMPONENT_INSTANCE_PROPERTY:n,PLUGINS_SET:r,IS_DIRECTIVE:o,VALUE_ATTRIBUTE:s,ATTRIBUTES_KEY_SYMBOL:i,TEMPLATE_KEY_SYMBOL:u});function l(t,e){Array.from(e).forEach(e=>t.removeChild(e))}const c=2;var h={EACH:0,IF:1,SIMPLE:c,TAG:3,SLOT:4};const d=(t,e,n,r,o,s)=>{if(o-r<2)e.insertBefore(t(n[r],1),s);else{const i=e.ownerDocument.createDocumentFragment();for(;r<o;)i.appendChild(t(n[r++],1));e.insertBefore(i,s)}},p=(t,e)=>t==e,m=t=>t,f=(t,e,n,r,o,s,i)=>{const u=s-o;if(u<1)return-1;for(;n-e>=u;){let u=e,a=o;for(;u<n&&a<s&&i(t[u],r[a]);)u++,a++;if(a===s)return e;e=u+1}return-1},g=(t,e,n,r,o)=>n<r?t(e[n],0):0<n?t(e[n-1],-0).nextSibling:o,b=(t,e,n,r,o)=>{if(o-r<2)e.removeChild(t(n[r],-1));else{const s=e.ownerDocument.createRange();s.setStartBefore(t(n[r],-1)),s.setEndAfter(t(n[o-1],-1)),s.deleteContents()}},v=(t,e,n)=>{let r=1,o=e;for(;r<o;){const e=(r+o)/2>>>0;n<t[e]?o=e:r=e+1}return r},O=(t,e,n,r,o,s,i,u,a,l,c,h,p)=>{((t,e,n,r,o,s,i,u,a)=>{const l=new Map,c=t.length;let h=i,p=0;for(;p<c;)switch(t[p++]){case 0:o++,h++;break;case 1:l.set(r[o],1),d(e,n,r,o++,o,h<u?e(s[h],0):a);break;case-1:h++}for(p=0;p<c;)switch(t[p++]){case 0:i++;break;case-1:l.has(s[i])?i++:b(e,n,s,i++,i)}})(((t,e,n,r,o,s,i)=>{const u=n+s,a=[];let l,c,h,d,p,m,f;t:for(l=0;l<=u;l++){if(l>50)return null;for(f=l-1,p=l?a[l-1]:[0,0],m=a[l]=[],c=-l;c<=l;c+=2){for(h=(d=c===-l||c!==l&&p[f+c-1]<p[f+c+1]?p[f+c+1]:p[f+c-1]+1)-c;d<s&&h<n&&i(r[o+d],t[e+h]);)d++,h++;if(d===s&&h===n)break t;m[l+c]=d}}const g=Array(l/2+u/2);let b=g.length-1;for(l=a.length-1;l>=0;l--){for(;d>0&&h>0&&i(r[o+d-1],t[e+h-1]);)g[b--]=0,d--,h--;if(!l)break;f=l-1,p=l?a[l-1]:[0,0],(c=d-h)==-l||c!==l&&p[f+c-1]<p[f+c+1]?(h--,g[b--]=1):(d--,g[b--]=-1)}return g})(n,r,s,i,u,l,h)||((t,e,n,r,o,s,i,u)=>{let a=0,l=r<u?r:u;const c=Array(l++),h=Array(l);h[0]=-1;for(let t=1;t<l;t++)h[t]=i;const d=new Map;for(let t=s;t<i;t++)d.set(o[t],t);for(let r=e;r<n;r++){const e=d.get(t[r]);null!=e&&-1<(a=v(h,l,e))&&(h[a]=e,c[a]={newi:r,oldi:e,prev:c[a-1]})}for(a=--l,--i;h[a]>i;)--a;l=u+r-a;const p=Array(l);let m=c[a];for(--n;m;){const{newi:t,oldi:e}=m;for(;n>t;)p[--l]=1,--n;for(;i>e;)p[--l]=-1,--i;p[--l]=0,--n,--i,m=m.prev}for(;n>=e;)p[--l]=1,--n;for(;i>=s;)p[--l]=-1,--i;return p})(n,r,o,s,i,u,a,l),t,e,n,r,i,u,c,p)};function N(t){return null==t}function T(t){return!N(t.content)}const y=Object.seal({childrenMap:null,node:null,root:null,condition:null,evaluate:null,template:null,isTemplateTag:!1,nodes:[],getKey:null,indexName:null,itemName:null,afterPlaceholder:null,placeholder:null,mount(t,e){return this.update(t,e)},update(t,e){const{placeholder:n}=this,r=this.evaluate(t),o=r?Array.from(r):[],s=n.parentNode,{newChildrenMap:i,batches:u,futureNodes:a}=function(t,e,n,r){const{condition:o,template:s,childrenMap:i,itemName:u,getKey:a,indexName:l,root:c,isTemplateTag:h}=r,d=new Map,p=[],m=[];return t.forEach((t,r)=>{const f=function(t,e){let{itemName:n,indexName:r,index:o,item:s}=e;return t[n]=s,r&&(t[r]=o),t}(Object.create(e),{itemName:u,indexName:l,index:r,item:t}),g=a?a(f):r,b=i.get(g);if(function(t,e){return!!t&&!1===Boolean(t(e))}(o,f))return;const v=b?b.template:s.clone(),O=b?v.el:c.cloneNode(),N=!b,T=h&&N?function(t){const e=t.dom.cloneNode(!0);return{avoidDOMInjection:!0,fragment:e,children:Array.from(e.childNodes)}}(v):{};N?p.push(()=>v.mount(O,f,n,T)):p.push(()=>v.update(f,n)),h?m.push(...T.children||v.children):m.push(O),i.delete(g),d.set(g,{template:v,context:f,index:r})}),{newChildrenMap:d,batches:p,futureNodes:m}}(o,t,e,this);return a.length?((t,e,n,r)=>{r||(r={});const o=r.compare||p,s=r.node||m,i=null==r.before?null:s(r.before,0),u=e.length;let a=u,l=0,c=n.length,h=0;for(;l<a&&h<c&&o(e[l],n[h]);)l++,h++;for(;l<a&&h<c&&o(e[a-1],n[c-1]);)a--,c--;const v=l===a,N=h===c;if(v&&N)return n;if(v&&h<c)return d(s,t,n,h,c,g(s,e,l,u,i)),n;if(N&&l<a)return b(s,t,e,l,a),n;const T=a-l,y=c-h;let E=-1;if(T<y){if(-1<(E=f(n,h,c,e,l,a,o)))return d(s,t,n,h,E,s(e[l],0)),d(s,t,n,E+T,c,g(s,e,a,u,i)),n}else if(y<T&&-1<(E=f(e,l,a,n,h,c,o)))return b(s,t,e,l,E),b(s,t,e,E+y,a),n;T<2||y<2?(d(s,t,n,h,c,s(e[l],0)),b(s,t,e,l,a)):T===y&&((t,e,n,r,o,s)=>{for(;r<o&&s(n[r],t[e-1]);)r++,e--;return 0===e})(n,c,e,l,a,o)?d(s,t,n,h,c,g(s,e,a,u,i)):O(s,t,n,h,c,y,e,l,a,T,u,o,i)})(s,this.nodes,a,{before:n,node:E(Array.from(this.childrenMap.values()),e)}):M(this.childrenMap),u.forEach(t=>t()),this.childrenMap=i,this.nodes=a,this},unmount(t,e){return M(this.childrenMap,e),this.childrenMap=new Map,this.nodes=[],this}});function E(t,e){return(n,r)=>{if(r<0){const{template:n,context:r}=t.pop();n.unmount(r,e,null)}return n}}function M(t,e){return Array.from(t.values()).map(t=>{let{template:n,context:r}=t;return n.unmount(r,e,!0)})}const j=Object.seal({node:null,evaluate:null,parent:null,isTemplateTag:!1,placeholder:null,template:null,mount(t,e){return this.parent.insertBefore(this.placeholder,this.node),this.parent.removeChild(this.node),this.update(t,e)},update(t,e){const n=!!this.evaluate(t),r=!this.value&&n,o=this.value&&!n;switch(!0){case r:this.parent.insertBefore(this.node,this.placeholder),this.template=this.template.clone(),this.template.mount(this.node,t,e);break;case o:this.unmount(t);break;default:n&&this.template.update(t,e)}return this.value=n,this},unmount(t,e){return this.template.unmount(t,e),this}}),A=0;var w={ATTRIBUTE:A,EVENT:1,TEXT:2,VALUE:3};const C="removeAttribute",x="setAttribute";function S(t,e,n,r){let{name:o}=e;o?("boolean"==typeof n&&(t[o]=n),t[function(t){return N(t)||!1===t||""===t||"object"==typeof t?C:x}(n)](o,function(t,e){return!0===e?t:e}(o,n))):n?function(t,e){Object.entries(e).forEach(e=>{let[n,r]=e;return S(t,{name:n},r)})}(t,n):r&&function(t,e){Object.keys(e).forEach(e=>t.removeAttribute(e))}(t,r)}function P(t){return null!=t?t:""}var _={[A]:S,1:function(t,e,n){let{name:r}=e;t[r]=n},2:function(t,e,n){let{childNodeIndex:r}=e;const o=t.childNodes[r],s=P(n);if(o.nodeType===Node.COMMENT_NODE){const e=document.createTextNode(s);t.replaceChild(e,o)}else o.data=P(s)},3:function(t,e,n){t.value=n}};const I=Object.seal({node:null,value:null,mount(t){return this.value=this.evaluate(t),D(this,this.value),this},update(t){const e=this.evaluate(t);return this.value!==e&&(D(this,e),this.value=e),this},unmount(){return this}});function D(t,e){return _[t.type](t.node,t,e,t.value)}function B(t,e){return Object.assign({},I,e,{node:t})}const U=Object.seal({node:null,name:null,template:null,mount(t,e){const n=!!t.slots&&t.slots.find(t=>{let{id:e}=t;return e===this.name}),{parentNode:r}=this.node;return this.template=n&&V(n.html,n.bindings).createDOM(r),this.template&&(this.template.mount(this.node,e),function t(e){e.firstChild&&(e.parentNode.insertBefore(e.firstChild,e),t(e))}(this.node)),r.removeChild(this.node),this},update(t,e){return this.template&&e&&this.template.update(e),this},unmount(t,e){return this.template&&this.template.unmount(e),this}});function L(t){return t.reduce((t,e)=>{let{bindings:n}=e;return t.concat(n)},[])}const k=Object.seal({node:null,evaluate:null,name:null,slots:null,tag:null,attributes:null,getComponent:null,mount(t){return this.update(t)},update(t,e){const n=this.evaluate(t);return n===this.name?this.tag.update(t):(this.unmount(t,e,!0),this.name=n,this.tag=function(t,e,n){return void 0===e&&(e=[]),void 0===n&&(n=[]),t?t({slots:e,attributes:n}):V(function(t){return t.reduce((t,e)=>t+e.html,"")}(e),[...L(e),{expressions:n.map(t=>Object.assign({type:A},t))}])}(this.getComponent(n),this.slots,this.attributes),this.tag.mount(this.node,t)),this},unmount(t,e,n){return this.tag&&this.tag.unmount(n),this}});var R={1:function(t,e){let{evaluate:n,template:r}=e;return Object.assign({},j,{node:t,evaluate:n,parent:t.parentNode,placeholder:document.createTextNode(""),template:r.createDOM(t)})},[c]:function(t,e){let{expressions:n}=e;return Object.assign({},(r=n.map(e=>B(t,e)),["mount","update","unmount"].reduce((t,e)=>Object.assign({},t,{[e]:t=>r.map(n=>n[e](t))&&o}),{})));var r,o},0:function(t,e){let{evaluate:n,condition:r,itemName:o,indexName:s,getKey:i,template:u}=e;const a=document.createTextNode(""),l=t.parentNode,c=t.cloneNode();return l.insertBefore(a,t),l.removeChild(t),Object.assign({},y,{childrenMap:new Map,node:t,root:c,condition:r,evaluate:n,isTemplateTag:T(c),template:u.createDOM(t),getKey:i,indexName:s,itemName:o,placeholder:a})},3:function(t,e){let{evaluate:n,getComponent:r,slots:o,attributes:s}=e;return Object.assign({},k,{node:t,evaluate:n,slots:o,attributes:s,getComponent:r})},4:function(t,e){let{name:n}=e;return Object.assign({},U,{node:t,name:n})}};function $(t){const e=t.ownerSVGElement;return!!e||null===e}function z(t,e){return $(t)?function(t,e){return e.ownerDocument.importNode((new window.DOMParser).parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${t}</svg>`,"application/xml").documentElement,!0)}(e,t):function(t,e){const n=T(e)?e:document.createElement("template");return n.innerHTML=t,n.content}(e,t)}function Y(t,e){switch(!0){case $(t):!function t(e,n){e.firstChild&&(n.appendChild(e.firstChild),t(e,n))}(e,t);break;case T(t):t.parentNode.replaceChild(e,t);break;default:t.appendChild(e)}}const K=Object.freeze({bindings:null,bindingsData:null,html:null,isTemplateTag:!1,fragment:null,children:null,dom:null,el:null,createDOM(t){return this.dom=this.dom||function(t,e){return e&&("string"==typeof e?z(t,e):e)}(t,this.html),this},mount(t,e,n,r){if(void 0===r&&(r={}),!t)throw new Error("Please provide DOM node to mount properly your template");this.el&&this.unmount(e);const{fragment:o,children:s,avoidDOMInjection:i}=r,{parentNode:u}=s?s[0]:t;return this.isTemplateTag=T(t),this.createDOM(t),this.dom&&(this.fragment=o||this.dom.cloneNode(!0)),this.el=this.isTemplateTag?u:t,this.children=this.isTemplateTag?s||Array.from(this.fragment.childNodes):null,!i&&this.fragment&&Y(t,this.fragment),this.bindings=this.bindingsData.map(t=>(function(t,e){const{selector:n,type:r,redundantAttribute:o,expressions:s}=e,i=n?t.querySelector(n):t;return o&&i.removeAttribute(o),(R[r]||R[c])(i,Object.assign({},e,{expressions:s||[]}))})(this.el,t)),this.bindings.forEach(t=>t.mount(e,n)),this},update(t,e){return this.bindings.forEach(n=>n.update(t,e)),this},unmount(t,e,n){var r;return this.el&&(this.bindings.forEach(n=>n.unmount(t,e)),n&&this.el.parentNode?this.el.parentNode.removeChild(this.el):null!==n&&(this.children?l(this.children[0].parentNode,this.children):l(r=this.el,r.childNodes)),this.el=null),this},clone(){return Object.assign({},this,{el:null})}});function V(t,e){return void 0===e&&(e=[]),Object.assign({},K,{html:t,bindingsData:e})}function G(t){return typeof t==="function"}function H(t){throw new Error(t)}function F(t){return G(t)?t.prototype&&t.prototype.constructor?new t:t():t}function q(t){return t.replace(/-(\w)/g,(t,e)=>e.toUpperCase())}function W(){return this}function X(t,e,n,r){return void 0===r&&(r={}),Object.defineProperty(t,e,Object.assign({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function Z(t,e,n){return Object.entries(e).forEach(e=>{let[r,o]=e;X(t,r,o,n)}),t}function J(t){return Array.isArray(t)?t:/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&"number"==typeof t.length?Array.from(t):[t]}const Q=t=>1===t.length?t[0]:t;function tt(t,e,n){const r="object"==typeof e?e:{[e]:n},o=Object.keys(r);return J(t).forEach(t=>{o.forEach(e=>t.setAttribute(e,r[e]))}),t}function et(t,e){return function(t,e,n){const r="string"==typeof e?[e]:e;return Q(J(t).map(t=>Q(r.map(e=>t[n](e)))))}(t,e,"getAttribute")}function nt(t){return et(t,o)||t.tagName.toLowerCase()}function rt(t,e){return J("string"==typeof t?(e||document).querySelectorAll(t):t)}const ot=new Map,st=(t=>()=>t||(tt(t=rt("style[riot]")[0]||document.createElement("style"),"type","text/css"),t.parentNode||document.head.appendChild(t),t))();var it={CSS_BY_NAME:ot,add(t,e){return ot.has(t)||(ot.set(t,e),this.inject()),this},inject(){return st().innerHTML=[...ot.values()].join("\n"),this},remove(t){return ot.has(t)&&(ot.delete(t),this.inject()),this}};const ut=Object.freeze({$(t){return rt(t,this.root)[0]},$$(t){return rt(t,this.root)}}),at=Object.freeze({shouldUpdate:W,onBeforeMount:W,onMounted:W,onBeforeUpdate:W,onUpdated:W,onBeforeUnmount:W,onUnmounted:W}),lt={update:W,mount:W,unmount:W,clone:W,createDOM:W};function ct(t){let{css:n,template:r,exports:o,name:s}=t;const i=r?function(t,n){return t(V,w,h,t=>n[t]||e.get(t))}(r,o?function(t){void 0===t&&(t={});return Object.entries(F(t)).reduce((t,e)=>{let[n,r]=e;return t[function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}(n)]=ct(r),t},{})}(o.components):{}):lt;return t=>{let{slots:e,attributes:r,props:u}=t;const a=F(o)||{},l=ht({css:n,template:i,componentAPI:a,name:s})({slots:e,attributes:r,props:u});return{mount:(t,e,n)=>l.mount(t,n,e),update:(t,e)=>l.update(e,t),unmount:t=>l.unmount(t)}}}function ht(t){let{css:e,template:n,componentAPI:r,name:o}=t;return e&&o&&it.add(o,e),function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(o=[...r,...o]).length<e.length?t(e,...o):e(...o)}}(mt)(Z((s=r,i=Object.assign({},at,{state:{}}),Object.entries(i).forEach(t=>{let[e,n]=t;s[e]||(s[e]=n)}),s),Object.assign({slots:null,root:null},ut,{name:o,css:e,template:n})));var s,i}function dt(t,e){return void 0===e&&(e=[]),Object.assign({},function(t){return Array.from(t.attributes).reduce((t,e)=>(t[q(e.name)]=e.value,t),{})}(t),e.reduce((t,e)=>{const{value:n,type:r}=e;switch(!0){case!e.name&&r===w.ATTRIBUTE:return Object.assign({},t,n);case r===w.VALUE:t[s]=e.value;break;default:t[q(e.name)]=e.value}return t},{}))}function pt(t,e){return Object.assign({},t,F(e))}function mt(t,e){let{slots:o,attributes:s,props:a}=e;const l=F(a);return c=function(t){return[...r].reduce((t,e)=>e(t)||t,t)}(Z(Object.create(t),{mount(e,r,a){return void 0===r&&(r={}),this[i]=function(t,e){void 0===e&&(e=[]);const n=e.map(e=>B(t,e)),r={},o=t=>e=>(n.forEach(n=>n[t](e)),r);return Object.assign(r,{expressions:n,mount:o("mount"),update:o("update"),unmount:o("unmount")})}(e,s).mount(a),this.props=Object.freeze(Object.assign({},l,dt(e,this[i].expressions))),this.state=pt(this.state,r),this[u]=this.template.createDOM(e).clone(),e[n]=this,t.name&&function(t,e){nt(t)!==e&&tt(t,"is",e)}(e,t.name),X(this,"root",e),X(this,"slots",o),this.onBeforeMount(this.props,this.state),this[u].mount(e,this,a),this.onMounted(this.props,this.state),this},update(t,e){void 0===t&&(t={}),e&&this[i].update(e);const n=dt(this.root,this[i].expressions);if(!1!==this.shouldUpdate(n,this.props))return this.props=Object.freeze(Object.assign({},l,n)),this.state=pt(this.state,t),this.onBeforeUpdate(this.props,this.state),this[u].update(this,e),this.onUpdated(this.props,this.state),this},unmount(t){return this.onBeforeUnmount(this.props,this.state),this[i].unmount(),this[u].unmount(this,{},null===t?null:!t),this.onUnmounted(this.props,this.state),this}})),Object.keys(t).filter(e=>G(t[e])).forEach(t=>{c[t]=c[t].bind(c)}),c;var c}const{DOM_COMPONENT_INSTANCE_PROPERTY:ft,COMPONENTS_IMPLEMENTATION_MAP:gt,PLUGINS_SET:bt}=a,vt={cssManager:it,defineComponent:ht,globals:a};t.__=vt,t.component=function(t){return(e,n)=>(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((t,e)=>(function(){return t(e(...arguments))}))})(t=>t.mount(e),t=>t({props:n}),ct)(t)},t.install=function(t){return G(t)||H("Plugins must be of type function"),bt.has(t)&&H("This plugin was already install"),bt.add(t),bt},t.mount=function(t,n,r){return rt(t).map(t=>(function(t,n,r){const o=r||nt(t);return e.has(o)||H(`The component named "${o}" was never registered`),e.get(o)({props:n}).mount(t)})(t,n,r))},t.register=function(t,e){let{css:n,template:r,exports:o}=e;return gt.has(t)&&H(`The component "${t}" was already registered`),gt.set(t,ct({name:t,css:n,template:r,exports:o})),gt},t.uninstall=function(t){return bt.has(t)||H("This plugin was never installed"),bt.delete(t),bt},t.unmount=function(t){return rt(t).map(t=>(t[ft]&&t[ft].unmount(),t))},t.unregister=function(t){return gt.has(t)||H(`The component "${t}" was never registered`),gt.delete(t),it.remove(t),gt},t.version="v4.2.0",Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).riot={});
